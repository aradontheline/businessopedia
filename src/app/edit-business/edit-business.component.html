<div class="panel panel-info">
    <div class="panel-heading">Edit your business</div>
    <div class="panel-body">
      <form #addBusinessForm="ngForm">
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" class="form-control" id="title" [(ngModel)]="business.title" name="title" autofocus #title="ngModel" minlength="5"  required>
            <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
              <div *ngIf="title.errors.required">
                Title is required.
              </div>
              <div *ngIf="title.errors.minlength">
                Title must be at least 5 characters long.
              </div>
            </div>
        </div>
        <div class="form-group">
          <label for="bio">Bio</label>
          <textarea type="text" class="form-control" id="bio" [(ngModel)]="business.bio" name="bio" autofocus #bio="ngModel" minlength="5" rows="5"  required></textarea>
            <div *ngIf="bio.invalid && (bio.dirty || bio.touched)" class="alert alert-danger">
              <div *ngIf="bio.errors.required">
                Bio is required.
              </div>
              <div *ngIf="bio.errors.minlength">
                Bio must be at least 5 characters long.
              </div>
            </div>
        </div>
        <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" class="form-control" id="phone" [(ngModel)]="business.contact.phone" name="phone"  #phone="ngModel" minlength="10" rows="5"  required>
              <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger">
                <div *ngIf="phone.errors.required">
                  Phone is required.
                </div>
                <div *ngIf="phone.errors.minlength">
                  Phone must be at least 10 characters long.
                </div>
              </div>
        </div>
        <div class="form-group">
          <label for="mobile">Mobile</label>
          <input type="text" class="form-control" id="mobile" [(ngModel)]="business.contact.mobile" name="mobile"  #mobile="ngModel" minlength="10" rows="5"  required>
            <div *ngIf="mobile.invalid && (mobile.dirty || mobile.touched)" class="alert alert-danger">
              <div *ngIf="mobile.errors.required">
                Mobile is required.
              </div>
              <div *ngIf="mobile.errors.minlength">
                Mobile must be at least 10 characters long.
              </div>
            </div>
        </div>
        <div class="form-group">
          <label for="street1">Street 1</label>
          <textarea type="text" class="form-control" id="street1" [(ngModel)]="business.contact.address.street1" name="street1"  #street1="ngModel" rows="5"  ></textarea>
            <!-- <div *ngIf="street1.invalid && (street1.dirty || street1.touched)" class="alert alert-danger">
              <div *ngIf="street1.errors.required">
                Street1 is required.
              </div>
              <div *ngIf="mobile.errors.minlength">
                Street1 must be at least 20 characters long.
              </div>
            </div> -->
        </div>
        <div class="form-group">
          <label for="street2">Street 2</label>
          <textarea type="text" class="form-control" id="street2" [(ngModel)]="business.contact.address.street2" name="street2"  #street2="ngModel" rows="5"  ></textarea>
            <!-- <div *ngIf="street1.invalid && (street1.dirty || street1.touched)" class="alert alert-danger">
              <div *ngIf="street1.errors.required">
                Street1 is required.
              </div>
              <div *ngIf="mobile.errors.minlength">
                Street1 must be at least 20 characters long.
              </div>
            </div> -->
        </div>
        <div class="form-group">
          <label for="no">Building</label>
          <input type="text" class="form-control" id="no" [(ngModel)]="business.contact.address.building" name="no"  #no="ngModel" minlength="1" rows="5"  required>
            <div *ngIf="no.invalid && (no.dirty || no.touched)" class="alert alert-danger">
              <div *ngIf="no.errors.required">
                Building is required.
              </div>
            </div>
        </div>
        <div class="form-group">
          <label for="unit">Unit</label>
          <input type="text" class="form-control" id="unit" [(ngModel)]="business.contact.address.unit" name="unit"  #unit="ngModel" minlength="1" rows="5"  required>
            <div *ngIf="unit.invalid && (unit.dirty || unit.touched)" class="alert alert-danger">
              <div *ngIf="unit.errors.required">
                Building is required.
              </div>
            </div>
        </div>
        <br>
        <agm-map [latitude]="business.contact.location.lat" [longitude]="business.contact.location.lng" [zoom]="14" (mapClick)="mapClicked($event)">
          <agm-marker [latitude]="business.contact.location.lat" [longitude]="business.contact.location.lng"></agm-marker>
        </agm-map>
        <br>
        <label for="picUploadInput" class="btn btn-info"> 
          <app-glyph-spinner *ngIf="uploading">Uploading...</app-glyph-spinner>
          <span *ngIf="!uploading">Add Image</span>
        </label>
        <input type="file" style="visibility:hidden;" id="picUploadInput" (change)="onFilesAdded($event)" multiple>
        <br>
        <button type="submit" class="btn btn-default" [disabled]="!addBusinessForm.form.valid" (click)="saveBusiness()">Save</button>
      </form>
    </div>  
  </div>
  <app-gallery [businessId]="businessId" [parent]="pageName" [updatePictureGallery]="updatePictureGallery"></app-gallery>
